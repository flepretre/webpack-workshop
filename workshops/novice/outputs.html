<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Playing with outputs | Webpack Workshop</title>
    <meta name="description" content="Webpack discovering and mastering workshops">
    
    
    <link rel="preload" href="/webpack-workshop/assets/css/0.styles.446b2bb4.css" as="style"><link rel="preload" href="/webpack-workshop/assets/js/app.a6601a13.js" as="script"><link rel="preload" href="/webpack-workshop/assets/js/14.1e8d6cad.js" as="script"><link rel="prefetch" href="/webpack-workshop/assets/js/10.93f94409.js"><link rel="prefetch" href="/webpack-workshop/assets/js/11.b8ec93f4.js"><link rel="prefetch" href="/webpack-workshop/assets/js/12.5e118939.js"><link rel="prefetch" href="/webpack-workshop/assets/js/13.b69df8fb.js"><link rel="prefetch" href="/webpack-workshop/assets/js/15.a1e29740.js"><link rel="prefetch" href="/webpack-workshop/assets/js/3.a939b26e.js"><link rel="prefetch" href="/webpack-workshop/assets/js/4.c3292d69.js"><link rel="prefetch" href="/webpack-workshop/assets/js/5.f24e822f.js"><link rel="prefetch" href="/webpack-workshop/assets/js/6.571fa7bb.js"><link rel="prefetch" href="/webpack-workshop/assets/js/7.40d9ac77.js"><link rel="prefetch" href="/webpack-workshop/assets/js/8.da4602b1.js"><link rel="prefetch" href="/webpack-workshop/assets/js/9.0b5d6e56.js"><link rel="prefetch" href="/webpack-workshop/assets/js/vendors~docsearch.d932dc62.js">
    <link rel="stylesheet" href="/webpack-workshop/assets/css/0.styles.446b2bb4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/webpack-workshop/" class="home-link router-link-active"><!----> <span class="site-name">Webpack Workshop</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/webpack-workshop/" class="nav-link">Home</a></div><div class="nav-item"><a href="/webpack-workshop/workshops/" class="nav-link router-link-active">Workshops</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/webpack-workshop/" class="nav-link">Home</a></div><div class="nav-item"><a href="/webpack-workshop/workshops/" class="nav-link router-link-active">Workshops</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/webpack-workshop/workshops/" class="sidebar-link">Get started</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Novice</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/webpack-workshop/workshops/novice/basics.html" class="sidebar-link">Basics</a></li><li><a href="/webpack-workshop/workshops/novice/static-assets.html" class="sidebar-link">Handling static assets</a></li><li><a href="/webpack-workshop/workshops/novice/code-assets.html" class="sidebar-link">Handling ğŸ’… assets</a></li><li><a href="/webpack-workshop/workshops/novice/outputs.html" class="active sidebar-link">Playing with outputs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack-workshop/workshops/novice/outputs.html#adding-entries" class="sidebar-link">Adding entries</a></li><li class="sidebar-sub-header"><a href="/webpack-workshop/workshops/novice/outputs.html#generating-your-index-file" class="sidebar-link">Generating your index file</a></li><li class="sidebar-sub-header"><a href="/webpack-workshop/workshops/novice/outputs.html#cleaning-the-dist-folder" class="sidebar-link">Cleaning the dist folder</a></li></ul></li><li><a href="/webpack-workshop/workshops/novice/novice-koans.html" class="sidebar-link">Novice KoÃ¢ns ğŸ“Œ</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Intermediate</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/webpack-workshop/workshops/intermediate/dev.html" class="sidebar-link">Development Tricks ğŸš€</a></li><li><a href="/webpack-workshop/workshops/intermediate/babel.html" class="sidebar-link">Use Babel</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="playing-with-outputs"><a href="#playing-with-outputs" aria-hidden="true" class="header-anchor">#</a> Playing with outputs</h1> <blockquote><p>To start this exercise, be sure to be in <code>./packages/novice/outputs</code> folder.
Be sure you have <a href="/webpack-workshop/workshops/#install">installed this repository first</a></p></blockquote> <p>Your app will normally, more dans more code.
In order to limit your bundle size, you will try to split it in separated files.</p> <h2 id="adding-entries"><a href="#adding-entries" aria-hidden="true" class="header-anchor">#</a> Adding entries</h2> <p>Now we will force output creation by adding another entry.
This is the current dependency tree of this small app.</p> <div class="language- extra-class"><pre class="language-text"><code>title.js
      &lt;- color.js
             &lt;- node_modules/lodash
      &lt;- main.css
             &lt;- landscape.jpg
</code></pre></div><p>Try to add <code>color.js</code> file as an entry.
Then look at the dist folder.</p> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <p>You will probably have an error when you try to add another entry.</p></div> <details><summary>Solution</summary> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    main<span class="token punctuation">:</span> <span class="token string">&quot;./src/title.js&quot;</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token string">&quot;./src/color.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// The source module of our dependency graph</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Configuration of what we tell webpack to generate (here, a ./dist/main.js file)</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.jpg$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              outputPath<span class="token punctuation">:</span> <span class="token string">&quot;assets&quot;</span><span class="token punctuation">,</span>
              publicPath<span class="token punctuation">:</span> <span class="token string">&quot;dist/assets&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <h2 id="generating-your-index-file"><a href="#generating-your-index-file" aria-hidden="true" class="header-anchor">#</a> Generating your index file</h2> <p>If you find out the little trick to let webpack generate the two bundles.
You can still open your app and it'is perfectly working.</p> <p>That's nice ! ğŸ‘</p> <p>You can also notice that only the matching dependency tree is in each bundle.</p> <p>But there is a issue, you browser is only getting the main bundle.
You could add manually the bundle in your index.html file.
However it will be painful to do it each time you wanted to add another bundle or just when you rename it.</p> <p>Your <code>index.html</code> file could be generated by Webpack thanks to a Plugin: The <a href="https://webpack.js.org/plugins/html-webpack-plugin/" target="_blank" rel="noopener noreferrer">HtmlWebpackPlugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
For that you have to define a <code>plugins</code> key in the webpack configuration.</p> <details><summary>Solution</summary> <div class="language-js extra-class"><div class="highlight-lines"><br><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br></div><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    main<span class="token punctuation">:</span> <span class="token string">&quot;./src/title.js&quot;</span><span class="token punctuation">,</span>
    color<span class="token punctuation">:</span> <span class="token string">&quot;./src/color.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// The source module of our dependency graph</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Configuration of what we tell webpack to generate (here, a ./dist/main.js file)</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.jpg$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token punctuation">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
              outputPath<span class="token punctuation">:</span> <span class="token string">&quot;assets&quot;</span><span class="token punctuation">,</span>
              publicPath<span class="token punctuation">:</span> <span class="token string">&quot;dist/assets&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token punctuation">:</span> <span class="token string">&quot;./index.html&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></details> <h2 id="cleaning-the-dist-folder"><a href="#cleaning-the-dist-folder" aria-hidden="true" class="header-anchor">#</a> Cleaning the <code>dist</code> folder</h2> <p>As you might have noticed over the past guides and code example, our /dist folder has become quite cluttered. Webpack will generate the files and put them in the /dist folder for you, but it doesn't keep track of which files are actually in use by your project.</p> <p>In general it's good practice to clean the /dist folder before each build, so that only used files will be generated. Let's take care of that.</p> <p>A popular plugin to manage this is the clean-webpack-plugin so let's install and configure it.</p> <details><summary>Solution</summary>
Import your plugin and add this plugin configuration as first plugin.
<div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'dist'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div></details></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/webpack-workshop/workshops/novice/code-assets.html" class="prev">
          Handling ğŸ’… assets
        </a></span> <span class="next"><a href="/webpack-workshop/workshops/novice/novice-koans.html">
          Novice KoÃ¢ns ğŸ“Œ
        </a>
        â†’
      </span></p></div> </div> <!----></div></div>
    <script src="/webpack-workshop/assets/js/app.a6601a13.js" defer></script><script src="/webpack-workshop/assets/js/14.1e8d6cad.js" defer></script>
  </body>
</html>
